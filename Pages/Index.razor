@page "/"
@using AnimeReconServer.Data
<head><link /></head>
<PageTitle>Index</PageTitle>

<div class="card" style="width: 18rem;">
    <img src="@anime.PictureURL" class="card-img-top" alt="...">
    <div class="card-body">
        <h5 class="card-title">@anime.Title</h5>
        <h6 class="card-subtitle mb-2 text-muted">English title: @anime.EN_Title</h6>
        <p>
            Rank: @anime.Rank<br />
            Rating: @anime.Mean / 10
        </p>
        <p class="card-text">
            <button type="button" class="btn btn-primary" @onclick="ButtonPress">Info</button>
        </p>
    </div>
    @if (showDialog)
    {
        <dialog open>
            <p>@anime.Synopsis</p>
            <button type="button" class="btn btn-primary" @onclick="ButtonPress">Close</button>
        </dialog>
    }
</div>



@code {
    API anime = Fetch.FetchData();
    bool showDialog = false;
    
    void ButtonPress()
    {
        showDialog = !showDialog;
        string result = showDialog ? "opened" : "closed"; // Debug
        Console.WriteLine($"Button {result}"); // Debug
    }
}
